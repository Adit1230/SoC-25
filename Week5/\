#include <iostream>
using std::cin, std::cout, std::endl;

int diff (int a, int b)
{
	if (a > b)
		return a - b;
	else
		return b - a;
}

int main()
{
	int n_tests;
	int n, k, a, b, i;
	long long int *xs, *ys, xa, ya, xb, min_a, min_b;

	for (cin >> n_tests; n_tests > 0; --n_tests)
	{
		cin >> n >> k >> a >> b;
		--a;
		--b;
		xs = new long long int[k];
		ys = new long long int[k];

		for (i = 0; i < k; ++i)
		{
			cin >> xs[i] >> ys[i];
		}

		if (a < k)
		{
			xa = xs[a];
			ya = ys[a];
		}
	
		if (b < k)
		{
			xb = xs[b];
			yb = ys[b];
		}
		
		for (i = k; i < n; ++i)
		{
			if (i == a)
			{
				cin >> xa >> ya;
			}
			else if (i == b)
			{
				cin >> xb >> yb;
			}
			else
			{
				cin.ignore();
				cin.ignore();
			}
		}

		min_a = 5e9;
		min_b = 5e9;

		for (i = 0; i < k; ++i)
		{
			if (diff(xs[i], xa) + diff(ys[i], ya) < min_a)
			{
				min_a = diff(xs[i], xa) + diff(ys[i], ya);
			}
			if (diff(xs[i], xb) + diff(ys[i], yb) < min_b)
			{
				min_b = diff(xs[i], xb) + diff(ys[i], yb);
			}
		}

		n = diff(xa, xb) + diff(ya, yb);

		if (n > min_a + min_b)
		{
			cout << min_a + min_b << endl;
		}
		else
		{
			cout << n;
		}

	}

	delete[] xs;
	delete[] ys;

	return 0;
}
